//===========================================================================
//!
//!	@file	gmRefCounter.h
//!	@brief	参照カウンタ
//!
//===========================================================================
#pragma once

//===========================================================================
//!	参照カウンタクラス
//===========================================================================
class RefCounter
{
public:
	//-------------------------------------------------------------
	//!	@name	初期化
	//-------------------------------------------------------------
	//!@{

	//! コンストラクタ
	RefCounter(void);

	//!@}
	//-------------------------------------------------------------
	//!	@name	解放コールバック
	//-------------------------------------------------------------
	//!@{

	//! 解放
	virtual	void	cleanup(void);

	//!@}
	//-------------------------------------------------------------
	//!	@name	参照カウンタ
	//-------------------------------------------------------------
	//!@{

	//! 参照カウンタをインクリメント
	s32				addRef(void);
	//! 解放
	s32				release(void);
	//! 現在の参照カウンタを取得
	s32				getRefCounter(void);

	//!@}
protected:

	//! デストラクタ（delete呼び出し禁止）
	virtual ~RefCounter(void);


private:
	s32				_refCount;		//!< 参照数
};

//===========================================================================
//	END OF FILE
//===========================================================================
