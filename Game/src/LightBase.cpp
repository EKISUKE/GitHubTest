//-----------------------------------------------------------------------------
//!
//!	@file	LightBase.cpp
//!	@brief	光源基底
//!	@author	YukiIshigaki
//!
//-----------------------------------------------------------------------------
#include "Library.h"

//-----------------------------------------------------------------------------
//! コンストラクタ
//-----------------------------------------------------------------------------
LightBase::LightBase()
: _position			 (0,0,0)
, _lookAt			 (0,0,-1)
, _worldUp			 (0,1,0)
, _rot				 (0,0,0)
{
	ILight()->regist(this);
}

//-----------------------------------------------------------------------------
//! 更新
//-----------------------------------------------------------------------------
void LightBase::update()
{
	//-------------------------------------------------------------
	// 姿勢行列を生成
	//-------------------------------------------------------------
	_matrix = Matrix::lookAt(_position, _lookAt);
	//-------------------------------------------------------------
	// ビュー行列を生成
	//-------------------------------------------------------------
	_viewMatrix = Matrix::view(_position, _lookAt);

	// ライト方向更新
	_lightDir = _position - _lookAt;

}

//=============================================================================
//	END OF FILE
//=============================================================================